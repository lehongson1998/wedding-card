<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="style.css" />
    <!-- Font Awesome CDN (Free) -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,700;1,300&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lavishly+Yours&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pattaya&display=swap"
      rel="stylesheet"
    />
    <title>HTML CSS</title>
  </head>
  <body>
    <!-- INTRO THI·ªÜP -->
    <div class="intro" id="intro">
      <canvas id="snow"></canvas>
      <div class="intro-card">
        <div class="intro-heart">‚ù§</div>
        <h2>H·ªìng S∆°n & Thu·ª≥ V√¢n</h2>
        <p>Th√¢n m·ªùi</p>
        <button id="open-invite">
          <i class="fa-solid fa-envelope-open"></i>
          M·ªü thi·ªáp
        </button>
      </div>
    </div>
    <audio id="bg-music" src="MMBN.mp3" loop></audio>
    <button id="music-btn" class="music-btn">
      <i class="fa-solid fa-volume-xmark"></i>
    </button>

    <div class="main-content" id="main">
      <canvas id="sakura"></canvas>
      <div class="container">
        <!-- <div id="overlay">Ch·∫°m ƒë·ªÉ b·∫≠t nh·∫°c üéµ</div> -->
        <div class="title">H·ªìng S∆°n & Thu·ª≥ V√¢n</div>
        <img src="images/image_2.png" alt="" class="spolight" />
        <div class="image-wraper">
          <img src="images/image_5.png" alt="" class="img-base" />
          <img src="images/image_7.png" alt="" class="img-overlay" />
        </div>

        <div class="album">
          <div class="album-header">
            <img
              src="images/image_1.png"
              alt=""
              class="album-header-left album-icon"
            />
            <span class="album-title">ALBUM ·∫¢NH C∆Ø·ªöI</span>
            <img
              src="images/image_1.png"
              alt=""
              class="album-header-right album-icon"
            />
          </div>
          <div class="album-content">
            <div class="album-item">
              <img src="images/KL407750.jpg" alt="" class="album-image reval" />
            </div>
            <div class="album-item">
              <img src="images/KL407944.jpg" alt="" class="album-image reval" />
            </div>
            <div class="album-item">
              <img src="images/KL408107.jpg" alt="" class="album-image reval" />
            </div>
            <div class="album-item">
              <img src="images/KL408051.jpg" alt="" class="album-image reval" />
            </div>
          </div>
        </div>

        <div class="album">
          <div class="album-header">
            <img
              src="images/image_1.png"
              alt=""
              class="album-header-left album-icon"
            />
            <span class="album-title">TH√îNG TIN L·ªÑ C∆Ø·ªöI</span>
            <img
              src="images/image_1.png"
              alt=""
              class="album-header-right album-icon"
            />
          </div>
          <div class="info-wedding">
            <div class="info-item">
              <p>√îng B√†</p>
              <h3>L√™ VƒÉn C·∫ßu</h3>
              <h3>Nguy·ªÖn Th·ªã Tr·∫ßn</h3>
              <p>X√≥m H∆∞ng Y√™n Nam 5, Y√™n Trung, Ngh·ªá An</p>
            </div>

            <span class="division"></span>

            <div class="info-item">
              <p>√îng B√†</p>
              <h3>Tr·∫ßn VƒÉn Quy·ªÅn</h3>
              <h3>Ho√†ng Th·ªã S·ªπ</h3>
              <p>X√≥m H∆∞ng Y√™n Nam 5, Y√™n Trung, Ngh·ªá An</p>
            </div>
          </div>
        </div>

        <div class="time-wedding">
          <p class="time-wedding-header">TR√ÇN TR·ªåNG K√çNH M·ªúI D·ª∞</p>
          <p class="time-wedding-header">L·ªÑ TH√ÄNH H√îN C·ª¶A CON CH√öNG T√îI</p>
          <h2 class="human">L√™ H·ªìng S∆°n</h2>
          <p class="human-posi">Tr∆∞·ªüng Nam</p>
          <span class="and">&amp;</span>
          <h2 class="human">Tr·∫ßn Th·ªã V√¢n</h2>
          <p class="human-posi">Th·ª© N·ªØ</p>
          <p class="time-char">H√îN L·ªÑ ƒê∆Ø·ª¢C C·ª¨ H√ÄNH T·∫†I</p>
          <h3 class="time-place">T∆Ø GIA NH√Ä TRAI</h3>
          <p class="time-detail-text">V√ÄO L√öC</p>
          <h3 class="time-hour">10:30</h3>

          <div class="time-desc">
            <p class="time-week">TH·ª® T∆Ø</p>
            <span class="division2"></span>
            <p class="time-day">28</p>
            <span class="division2"></span>
            <p class="time-month">TH√ÅNG 01</p>
          </div>

          <p class="time-year">NƒÇM 2026</p>
          <p class="at-date">(T·ª©c ng√†y 10/12 ·∫§t T·ªµ)</p>
        </div>

        <div class="album album2">
          <div class="album-header">
            <img
              src="images/image_1.png"
              alt=""
              class="album-header-left album-icon"
            />
            <span class="album-title">TH√îNG TIN TI·ªÜC C∆Ø·ªöI</span>
            <img
              src="images/image_1.png"
              alt=""
              class="album-header-right album-icon"
            />
          </div>
          <p class="time-wedding-header-secondary">
            TI·ªÜC C∆Ø·ªöI S·∫º DI·ªÑN RA V√ÄO L√öC:
          </p>
          <h3>09:00</h3>

          <div class="time-desc">
            <p class="time-week">TH·ª® BA</p>
            <span class="division2"></span>
            <p class="time-day">27</p>
            <span class="division2"></span>
            <p class="time-month">TH√ÅNG 01</p>
          </div>

          <p class="time-year">NƒÇM 2026</p>

          <h2 class="count-title">ƒê·ªíNG H·ªí ƒê·∫æM NG∆Ø·ª¢C</h2>
          <div class="countdown">
            <div class="time">
              <span id="days">00</span>
              <small>NG√ÄY</small>
            </div>
            <div class="time">
              <span id="hours">00</span>
              <small>GI·ªú</small>
            </div>
            <div class="time">
              <span id="minutes">00</span>
              <small>PH√öT</small>
            </div>
            <div class="time">
              <span id="seconds">00</span>
              <small>GI√ÇY</small>
            </div>
          </div>

          <h3 class="info-map">TI·ªÜC C∆Ø·ªöI S·∫º T·ªî CH·ª®C T·∫†I</h3>
          <p class="info-map-place">T∆∞ Gia Nh√† G√°i</p>

          <img
            src="images/image_7.png"
            alt="wedding-footer"
            class="wedding-footer"
          />

          <p class="thank-you">
            Gia ƒë√¨nh xin ch√¢n th√†nh c·∫£m ∆°n Qu√Ω Kh√°ch ƒë√£ ƒë·∫øn chung vui
          </p>

          <h3 class="happy">Qu√©t m√£ ƒë·ªÉ g·ª≠i m·ª´ng c∆∞·ªõi</h3>

          <p class="qr-title">Ch√∫ R·ªÉ</p>
          <img src="images/QRSON.png" alt="sonQR" class="qr-img" />
          <p class="bank-name">Vietcombank</p>
          <p class="bank-number">1033190510</p>
          <p class="bank-holder">L√ä H·ªíNG S∆†N</p>

          <p class="qr-title">C√¥ D√¢u</p>
          <img src="images/QRSON.png" alt="sonQR" class="qr-img" />
          <p class="bank-name">Vietcombank</p>
          <p class="bank-number">1040238259</p>
          <p class="bank-holder">Tr·∫ßn Th·ªã V√¢n</p>

          <p class="thank-you2">Thank You!</p>
        </div>
      </div>
    </div>
    <div class="lightbox" id="lightbox">
      <button class="lb-btn prev">‚ùÆ</button>

      <div class="lb-image-wrapper">
        <img id="lightbox-img" />
      </div>

      <button class="lb-btn next">‚ùØ</button>
      <span class="lightbox-close">&times;</span>
    </div>

    <script>
      // Th·ªùi ƒëi·ªÉm m·ª•c ti√™u: 09:00 27/01/2026 (GMT+7)
      const targetDate = new Date("2026-01-27T09:00:00+07:00").getTime();

      const daysEl = document.getElementById("days");
      const hoursEl = document.getElementById("hours");
      const minutesEl = document.getElementById("minutes");
      const secondsEl = document.getElementById("seconds");

      function updateCountdown() {
        const now = new Date().getTime();
        const diff = targetDate - now;

        if (diff <= 0) {
          clearInterval(timer);
          daysEl.textContent = "00";
          hoursEl.textContent = "00";
          minutesEl.textContent = "00";
          secondsEl.textContent = "00";
          alert("‚è∞ ƒê√£ ƒë·∫øn 9h s√°ng 27/01/2026!");
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        daysEl.textContent = String(days).padStart(2, "0");
        hoursEl.textContent = String(hours).padStart(2, "0");
        minutesEl.textContent = String(minutes).padStart(2, "0");
        secondsEl.textContent = String(seconds).padStart(2, "0");
      }

      updateCountdown();
      const timer = setInterval(updateCountdown, 1000);
    </script>
    <script>
      const reveals = document.querySelectorAll(".reval");

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("active");
              observer.unobserve(entry.target); // ch·ªâ ch·∫°y 1 l·∫ßn
            }
          });
        },
        {
          threshold: 0.2, // 20% ·∫£nh xu·∫•t hi·ªán th√¨ trigger
        }
      );

      reveals.forEach((el) => observer.observe(el));
    </script>
    <script>
      window.addEventListener("load", () => {
        const music = document.getElementById("bg-music");
        music.volume = 0.5;

        music.play().catch(() => {
          console.log("Autoplay b·ªã ch·∫∑n");
        });
      });
    </script>

    <!-- <script>
      const overlay = document.getElementById("overlay");
      const music = document.getElementById("bg-music");

      overlay.addEventListener("click", () => {
        music.play();
        overlay.remove();
      });
    </script> -->
    <script>
      const music1 = document.getElementById("bg-music");
      const btn = document.getElementById("music-btn");

      let isPlaying = false;

      btn.addEventListener("click", () => {
        if (isPlaying) {
          music1.pause();
          btn.innerHTML = '<i class="fa-solid fa-volume-xmark"></i>';
        } else {
          music1.play();
          btn.innerHTML = '<i class="fa-solid fa-volume-high"></i>';
        }
        isPlaying = !isPlaying;
      });
    </script>

    <script>
      const images = [...document.querySelectorAll(".album-image")];
      const lightbox = document.getElementById("lightbox");
      const img = document.getElementById("lightbox-img");
      const closeBtn = document.querySelector(".lightbox-close");
      const nextBtn = document.querySelector(".next");
      const prevBtn = document.querySelector(".prev");

      let currentIndex = 0;
      let scale = 1;
      let startDist = 0;

      function openLightbox(index) {
        currentIndex = index;
        img.src = images[index].src;
        scale = 1;
        img.style.transform = "scale(1)";
        lightbox.classList.add("show");
        document.body.style.overflow = "hidden";
      }

      function closeLightbox() {
        lightbox.classList.remove("show");
        document.body.style.overflow = "";
      }

      function showNext() {
        currentIndex = (currentIndex + 1) % images.length;
        img.src = images[currentIndex].src;
        resetZoom();
      }

      function showPrev() {
        currentIndex = (currentIndex - 1 + images.length) % images.length;
        img.src = images[currentIndex].src;
        resetZoom();
      }

      function resetZoom() {
        scale = 1;
        img.style.transform = "scale(1)";
      }

      images.forEach((el, i) =>
        el.addEventListener("click", () => openLightbox(i))
      );

      closeBtn.onclick = closeLightbox;
      nextBtn.onclick = showNext;
      prevBtn.onclick = showPrev;

      /* click n·ªÅn */
      lightbox.addEventListener("click", (e) => {
        if (e.target === lightbox) closeLightbox();
      });

      /* ===== PINCH ZOOM (mobile) ===== */
      img.addEventListener("touchstart", (e) => {
        if (e.touches.length === 2) {
          startDist = getDistance(e.touches[0], e.touches[1]);
        }
      });

      img.addEventListener("touchmove", (e) => {
        if (e.touches.length === 2) {
          const newDist = getDistance(e.touches[0], e.touches[1]);
          scale = Math.min(Math.max(scale * (newDist / startDist), 1), 3);
          img.style.transform = `scale(${scale})`;
          startDist = newDist;
        }
      });

      function getDistance(t1, t2) {
        return Math.hypot(t1.clientX - t2.clientX, t1.clientY - t2.clientY);
      }

      /* keyboard desktop */
      document.addEventListener("keydown", (e) => {
        if (!lightbox.classList.contains("show")) return;
        if (e.key === "ArrowRight") showNext();
        if (e.key === "ArrowLeft") showPrev();
        if (e.key === "Escape") closeLightbox();
      });
    </script>

    <script>
      const openBtn = document.getElementById("open-invite");
      const intro = document.getElementById("intro");
      const main = document.getElementById("main");
      const music = document.getElementById("bg-music");

      openBtn.addEventListener("click", () => {
        intro.style.opacity = "0";

        setTimeout(() => {
          intro.style.display = "none";
          main.style.display = "block";

          // b·∫≠t nh·∫°c sau user interaction (kh√¥ng b·ªã ch·∫∑n)
          music.volume = 0.5;
          music.play();
        }, 500);
      });
    </script>

    <script>
      const canvas = document.getElementById("snow");
      const ctx = canvas.getContext("2d");

      let width, height;
      let snowflakes = [];

      function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
      }

      window.addEventListener("resize", resize);
      resize();

      function createSnowflakes() {
        snowflakes = [];
        for (let i = 0; i < 120; i++) {
          snowflakes.push({
            x: Math.random() * width,
            y: Math.random() * height,
            r: Math.random() * 3 + 1,
            d: Math.random() + 0.5,
          });
        }
      }

      function drawSnow() {
        ctx.clearRect(0, 0, width, height);
        ctx.fillStyle = "rgba(255,255,255,0.8)";
        ctx.beginPath();

        for (let i = 0; i < snowflakes.length; i++) {
          const f = snowflakes[i];
          ctx.moveTo(f.x, f.y);
          ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2, true);
        }

        ctx.fill();
        moveSnow();
      }

      let angle = 0;

      function moveSnow() {
        angle += 0.01;
        for (let i = 0; i < snowflakes.length; i++) {
          const f = snowflakes[i];
          f.y += Math.pow(f.d, 2) + 0.5;
          f.x += Math.sin(angle) * 0.5;

          if (f.y > height) {
            snowflakes[i] = {
              x: Math.random() * width,
              y: 0,
              r: f.r,
              d: f.d,
            };
          }
        }
      }

      createSnowflakes();
      const snowTimer = setInterval(drawSnow, 30);

      // üî¥ T·∫ÆT TUY·∫æT KHI M·ªû THI·ªÜP
      document.getElementById("open-invite").addEventListener("click", () => {
        clearInterval(snowTimer);
        canvas.remove();
      });
    </script>

    <script>
      const sakuraCanvas = document.getElementById("sakura");
      const sCtx = sakuraCanvas.getContext("2d");

      let sw, sh;
      let petals = [];
      let sakuraTimer;

      function resizeSakura() {
        sw = sakuraCanvas.width = window.innerWidth;
        sh = sakuraCanvas.height = window.innerHeight;
      }

      window.addEventListener("resize", resizeSakura);
      resizeSakura();

      function createPetals() {
        petals = [];
        for (let i = 0; i < 40; i++) {
          petals.push({
            x: Math.random() * sw,
            y: Math.random() * sh,
            r: Math.random() * 6 + 4,
            speedY: Math.random() * 1 + 0.5,
            speedX: Math.random() * 0.5 - 0.25,
            rot: Math.random() * Math.PI,
            rotSpeed: Math.random() * 0.02 - 0.01,
          });
        }
      }

      function drawPetals() {
        sCtx.clearRect(0, 0, sw, sh);

        petals.forEach((p) => {
          sCtx.save();
          sCtx.translate(p.x, p.y);
          sCtx.rotate(p.rot);

          sCtx.fillStyle = "rgba(255,182,193,0.85)";
          sCtx.beginPath();
          sCtx.moveTo(0, 0);
          sCtx.quadraticCurveTo(p.r, -p.r, p.r * 2, 0);
          sCtx.quadraticCurveTo(p.r, p.r, 0, 0);
          sCtx.fill();

          sCtx.restore();

          p.y += p.speedY;
          p.x += p.speedX;
          p.rot += p.rotSpeed;

          if (p.y > sh || p.x < -50 || p.x > sw + 50) {
            p.y = -20;
            p.x = Math.random() * sw;
          }
        });
      }

      function startSakura() {
        createPetals();
        sakuraTimer = setInterval(drawPetals, 30);
      }

      // üå∏ CH·∫†Y HOA ƒê√ÄO KHI M·ªû THI·ªÜP
      document.getElementById("open-invite").addEventListener("click", () => {
        setTimeout(startSakura, 800); // ƒë·ª£i intro fade xong
      });
    </script>
  </body>
</html>
